---
title: 设计模式之PK
date: 2020-08-28 22:30:23
tags: 设计模式
---

### 设计模式

总的来说，可以分为三类：创建类模式，结构类模式，行为类模式。

> 设计模式要干的事情就是解耦。创建型模式是将创建和使用代码解耦，结构型模式是将不同功能代码解耦，行为型模式是将不同的行为代码解耦。

<!--分割线-->

<!--more-->


### 创建型设计PK

解决对象的创建问题。
封装复杂的创建过程，解耦对象的创建代码和使用代码。


1. 工厂方法模式VS建造者模式
    - 意图不同：工厂方法模式注重创造一个产品整体；建造者模式在于解耦对象的组合；
    - 粒度不同：工厂方法模式的粒度更粗；建造者的粒度更细；
    - String.valueOf and StringBuilder;

2. 抽象工厂模式VS建造者模式
    - 维度不同：抽象工厂不关注构建过程，只选择工厂和产品类型的组合；建造者模式关注生产流程和组合方式；

### 结构型设计模式

用于解决一些类和对象的组合方式。

1. 代理模式VS装饰器模式
    - 都具有相同的接口行为模式
    - 代理模式可以实行委托对象的功能，但是代理本身可以限定行为的权限；
    - 装饰器模式对于类的行为没有决定权，不进行过滤参数的行为；

2. 装饰模式VS适配器模式
    - 意图不同：装饰器加强对象的功能；适配器兼容类型不同的接口；
    - 对象不同：装饰器包裹相同行为的类；适配器处理不同的类型对象；
    - 场景不同：装饰器用于增强类的功能，比如 Java IO；适配器模式是设计缺陷的补救
    - 扩展性不同：装饰器容易维护；而适配器过于冗余会导致层层适配的情况；




### 行为型设计模式

用于解决类和对象的交互问题。


1. 命令模式VS策略模式
    - 意图不同：命令模式对动作解耦；策略模式对算法事务进行解耦
    - 粒度不同：策略模式关注算法的完整性，封装性；命令模式在于请求者和接受者的解耦
    - 功能不同：策略模式负责一个完整的算法逻辑，具有原子性；命令模式针对命令实现功能
    - 场景不同：策略模式适用于可选算法的场景；命令模式适用于紧耦合的场合；
    
2. 策略模式VS状态模式
    - 职责不同：
    - 解决问题的重点不同：策略模式将依赖注入到 context；状态模式自己能够修改上下文；
    - 具体：switch-case 模型 VS 状态机模型
    
3. 观察者模式（触发链）VS责任链模式
    - 关联性：观察者模式可以形成触发链（逐级通知）；相应的，触发链中的事件允许发生改变；
    - 链的消息对象不同：责任链不改变消息的结果，处理消息的操作是消费；触发链中的消息可以变换；
    - 上下节点的关系不同：通常来讲，责任链的上下级处理类似于拦截器，前后节点耦合性很低；触发链前后节点的关系属于紧耦合；
    - 消息的分销渠道不同：责任链的消息传递方式是单向链表，触发链可以自定义传递方式；
    
### 关公战秦琼

1. 策略模式VS桥接模式
    - 策略模式提供：一种行为根据上下文动态实现的能力
    - 桥接模式提供：抽象和实现的解耦，抽象化角色和实例化角色


2. 门面模式和中介者模式
    - 门面模式在于封装和隔离，中介者在于调和不同的类逻辑；
    - 门面模式将请求委托交付给子系统实现；而中介者独立实现功能；因此门面模式的子系统可以独立于门面存在；






